- defaults:
    link:
        relink: true
        create: true

- create: ["~/.ssh"]

- clean: ['~', '~/.ssh']

- link:
    ~/.dotfiles.local: "" # symlink a fixed path for all local dotfiles

    # ssh config
    ~/.ssh/config.local: ssh/config.local

    # git config
    ~/.gitconfig.local:

    ~/.zshrc.local:

- shell:
    - [git submodule update --init --recursive, Installing submodules]
    - [cp ~/.vimrc /mnt/c/Users/ryushinn/.vimrc, Copying the .vimrc to Win home directory]
    - 
        command: sudo ./install -p dotbot-apt/apt.py -c packages.config.yaml && sudo git submodule foreach git clean -dfX
        description: Installing required packages
        stdout: True
        stderr: True
    - [chsh -s $(which zsh), Setting zsh as the default shell]